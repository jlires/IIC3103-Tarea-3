(this.webpackJsonptarea3=this.webpackJsonptarea3||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(19),o=a.n(l),r=(a(62),a(11)),s=a(3),i=a(4),u=a(5),h=a(7),m=a(6),d=(a(63),a(30)),p=a(55),g=a.n(p),k=a(114),E=a(112),b=a(113),v=a(20),f=a(115),y=a(31),x=a(33),S=(a(98),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(v.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen}),this.forceUpdate()}},{key:"shouldComponentUpdate",value:function(e){return this.props.data!==e.data}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Exchange"},c.a.createElement("div",{className:"collapseButton",onClick:this.toggle},c.a.createElement("span",{color:"primary"},this.props.data.exchange_ticker," "),this.state.isOpen?c.a.createElement(y.a,{icon:x.a}):c.a.createElement(y.a,{icon:x.b})),c.a.createElement(f.a,{isOpen:this.state.isOpen},c.a.createElement("div",null,c.a.createElement("ul",null,this.props.data.listed_companies.map((function(t,a){return c.a.createElement("li",{key:a,onClick:e.props.clickAction,stockname:t,exchangename:e.props.data.exchange_ticker},t)}))))))}}]),a}(c.a.Component)),_=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"ExchangeList"},Object.keys(this.props.exchanges).map((function(t,a){return c.a.createElement(S,{key:a,data:e.props.exchanges[t],clickAction:e.props.clickAction})})))}}]),a}(c.a.Component),O=(a(106),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).chart=null,n.lineSeries=null,n.chartContainer=c.a.createRef(),n.chartTooltip=c.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.chart=Object(d.a)(document.getElementById("AppChart"),{width:600,height:350,priceScale:{scaleMargins:{top:.3,bottom:.25},borderVisible:!1},layout:{backgroundColor:"#131722",textColor:"#d1d4dc"},grid:{vertLines:{color:"rgba(42, 46, 57, 0)"},horzLines:{color:"rgba(42, 46, 57, 0.6)"}},timeScale:{timeVisible:!0}}),this.lineSeries=this.chart.addAreaSeries({topColor:"rgba(38,198,218, 0.56)",bottomColor:"rgba(38,198,218, 0.04)",lineColor:"rgba(38,198,218, 1)",lineWidth:2}),window.addEventListener("resize",(function(t){e.chart.resize(document.getElementById("AppChart").clientWidth,350)})),this.chart.resize(document.getElementById("AppChart").clientWidth,350);var t=document.getElementById("AppChartTooltip");this.chart.subscribeCrosshairMove((function(a){if(!a.time||a.point.x<0||a.point.x>600||a.point.y<0||a.point.y>300)t.style.display="none";else{var n=new Date(a.time).toLocaleDateString();t.style.display="block";var c=a.seriesPrices.get(e.lineSeries);t.innerHTML='<div style="font-size: 24px; margin: 4px 0px">'+Math.round(100*c)/100+"</div><div>"+n+"</div>";var l=a.point.y,o=a.point.x+15;o>480&&(o=a.point.x-15-120);var r=l+15;r>200&&(r=l-100-15),t.style.left=o+"px",t.style.top=r+"px"}}))}},{key:"shouldComponentUpdate",value:function(e){return e.data!==this.props.data&&this.updateChart(e.data),!1}},{key:"updateChart",value:function(e){this.lineSeries.setData(e)}},{key:"businessDayToString",value:function(e){return e.year+"-"+e.month+"-"+e.day}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.chartContainer,id:"AppChart",className:"AppChart"},c.a.createElement("div",{ref:this.chartTooltip,id:"AppChartTooltip",className:"floating-tooltip-2"}))}}]),a}(c.a.Component)),j=(a(107),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).transactions=[],n}return Object(u.a)(a,[{key:"timeConverter",value:function(e){var t=new Date(e),a=(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),n=t.getMinutes(),c=t.getSeconds();return this.strPad(a)+":"+this.strPad(n)+":"+this.strPad(c)}},{key:"strPad",value:function(e){return String("00"+e).slice(-2)}},{key:"render",value:function(){var e=this,t=this.props.data_sell,a=this.props.data_buy,n=this.props.data_price;"undefined"===typeof t&&(t=[]),"undefined"===typeof a&&(a=[]),"undefined"===typeof n&&(n=[]),n=n.map((function(e){return e.value}));var l=t.map((function(e){return e.type="sell",e})).concat(a.map((function(e){return e.type="buy",e})));l.sort((function(e,t){return t.time-e.time}));var o=t.reduce((function(e,t){return e+t.volume}),0),s=a.reduce((function(e,t){return e+t.volume}),0),i=Math.max.apply(Math,Object(r.a)(n)),u=Math.min.apply(Math,Object(r.a)(n)),h=n[n.length-1],m=n[n.length-2]||0,d=((h-m)/m).toFixed(2);return c.a.createElement(E.a,null,c.a.createElement(b.a,{xs:"12",md:"12",lg:"6"},c.a.createElement("div",{className:"StockData"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Volume:"),c.a.createElement("td",null,o+s)),c.a.createElement("tr",null,c.a.createElement("th",null,"High:"),c.a.createElement("td",null,i)),c.a.createElement("tr",null,c.a.createElement("th",null,"Low:"),c.a.createElement("td",null,u)),c.a.createElement("tr",null,c.a.createElement("th",null,"Last Price:"),c.a.createElement("td",null,h)),c.a.createElement("tr",null,c.a.createElement("th",null,"Variation:"),c.a.createElement("td",null,d,"%")))))),c.a.createElement(b.a,{xs:"12",md:"12",lg:"6"},c.a.createElement("div",{className:"StockTradesData"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Time"),c.a.createElement("th",null,"Volume"))),c.a.createElement("tbody",null,l.map((function(t,a){return"buy"===t.type?c.a.createElement("tr",{key:a,className:"buyOrder"},c.a.createElement("td",null,e.timeConverter(t.time)),c.a.createElement("td",null,t.volume)):c.a.createElement("tr",{key:a,className:"sellOrder"},c.a.createElement("td",null,e.timeConverter(t.time)),c.a.createElement("td",null,t.volume))})))))))}}]),a}(c.a.Component)),w=(a(108),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).transactions=[],n}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement(E.a,{style:{backgroundColor:"#182733"}},c.a.createElement(b.a,{xs:"12"},c.a.createElement("div",{className:"ExchangeData"},c.a.createElement("h6",null,this.props.exchangeData.exchange_ticker," - ",this.props.exchangeData.name),c.a.createElement("p",null,this.props.exchangeData.address,", ",this.props.exchangeData.country),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Buy Volume"),c.a.createElement("th",null,"Sell Volume"),c.a.createElement("th",null,"Total Volume"),c.a.createElement("th",null,"# Stocks"),c.a.createElement("th",null,"Market Share"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,this.props.buyVolume),c.a.createElement("td",null,this.props.sellVolume),c.a.createElement("td",null,this.props.sellVolume+this.props.buyVolume),c.a.createElement("td",null,this.props.exchangeData.listed_companies.length),c.a.createElement("td",null,this.props.marketShare,"%")))))))}}]),a}(c.a.Component)),C=a(56),A=a.n(C),N=a(34),V=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:0,stocks:[],exchanges:[],stockShow:"",connected:!0,stockShowing:"AAPL",exchangeShowing:"",exchangesTotalVolume:0},n.socket=null,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.connectSocket()}},{key:"connectSocket",value:function(){var e=this;this.socket=g()("wss://le-18262636.bitzonte.com",{path:"/stocks"}),this.socket.emit("STOCKS"),this.socket.on("STOCKS",(function(t){var a,n;t.forEach((function(t){var a;"undefined"===typeof e.state["stock_"+t.ticker]&&e.setState((a={},Object(s.a)(a,"stock_"+t.ticker,[]),Object(s.a)(a,"stock_buy_"+t.ticker,[]),Object(s.a)(a,"stock_sell_"+t.ticker,[]),a))})),e.setState({stocks:(a=t,n="company_name",a.reduce((function(e,t){return Object(N.a)(Object(N.a)({},e),{},Object(s.a)({},t[n],t))}),{}))}),e.socket.emit("EXCHANGES")})),this.socket.on("EXCHANGES",(function(t){e.setState({exchanges:t});var a=function(a){var n,c=t[a];"undefined"===typeof e.state["exchange_buy_"+c.exchange_ticker]&&e.setState((n={},Object(s.a)(n,"exchange_buy_"+c.exchange_ticker,0),Object(s.a)(n,"exchange_sell_"+c.exchange_ticker,0),n));c.listed_companies.forEach((function(t){e.setState(Object(s.a)({},"stock_"+e.state.stocks[t].ticker+"_exchange",c.exchange_ticker))}))};for(var n in t)a(n);e.socket.on("UPDATE",(function(t){var a="stock_"+t.ticker;e.setState(Object(s.a)({},a,[].concat(Object(r.a)(e.state[a]),[{time:t.time,value:t.value}])))})),e.socket.on("BUY",(function(t){var a,n="stock_buy_"+t.ticker,c=e.state["stock_"+t.ticker+"_exchange"];e.setState((a={},Object(s.a)(a,n,[].concat(Object(r.a)(e.state[n]),[{time:t.time,volume:t.volume}])),Object(s.a)(a,"exchange_buy_"+c,e.state["exchange_buy_"+c]+t.volume),Object(s.a)(a,"exchangesTotalVolume",e.state.exchangesTotalVolume+t.volume),a))})),e.socket.on("SELL",(function(t){var a,n="stock_sell_"+t.ticker,c=e.state["stock_"+t.ticker+"_exchange"];e.setState((a={},Object(s.a)(a,n,[].concat(Object(r.a)(e.state[n]),[{time:t.time,volume:t.volume}])),Object(s.a)(a,"exchange_sell_"+c,e.state["exchange_sell_"+c]+t.volume),Object(s.a)(a,"exchangesTotalVolume",e.state.exchangesTotalVolume+t.volume),a))}))}))}},{key:"disconnectSocket",value:function(){this.socket.close()}},{key:"toggleSwitch",value:function(e){this.state.connected?this.disconnectSocket():this.connectSocket(),this.setState({connected:e})}},{key:"onStockClick",value:function(e){var t=e.target.getAttribute("stockname"),a=e.target.getAttribute("exchangename");this.updateStock(t,a)}},{key:"updateStock",value:function(e,t){this.setState({stockShowing:this.state.stocks[e].ticker,stockShowingName:e,exchangeShowing:t})}},{key:"render",value:function(){var e,t,a;return this.state.exchangeShowing&&(a=(((e=this.state["exchange_sell_"+this.state.exchangeShowing])+(t=this.state["exchange_buy_"+this.state.exchangeShowing]))/this.state.exchangesTotalVolume*100).toFixed(2)),c.a.createElement("div",{className:"App"},c.a.createElement(k.a,null,c.a.createElement(E.a,null,c.a.createElement(b.a,{md:"12",style:{textAlign:"left"}},c.a.createElement("label",null,c.a.createElement("span",{style:{color:"white"}},"Connected "),c.a.createElement(A.a,{onChange:this.toggleSwitch.bind(this),checked:this.state.connected,className:"connection-switch"})))),c.a.createElement(E.a,{style:{marginBottom:"0px"}},c.a.createElement(b.a,{xs:"12",md:"3"},c.a.createElement(_,{exchanges:this.state.exchanges,clickAction:this.onStockClick.bind(this)})),this.state.stockShowing&&this.state.exchangeShowing?c.a.createElement(b.a,{xs:"12",md:"9"},c.a.createElement(w,{sellVolume:e,buyVolume:t,marketShare:a,exchangeData:this.state.exchanges[this.state.exchangeShowing]}),c.a.createElement(E.a,null,c.a.createElement(b.a,{md:"12"},c.a.createElement("div",{className:"stockName"},c.a.createElement("h1",null,this.state.stockShowing," - ",this.state.stockShowingName),c.a.createElement("p",null,this.state.stocks[this.state.stockShowingName].country),c.a.createElement("p",null,this.state.stocks[this.state.stockShowingName].quote_base))),c.a.createElement(b.a,{md:"12"},c.a.createElement(O,{stock:this.state.stockShowing,data:this.state["stock_"+this.state.stockShowing]}))),c.a.createElement(j,{data_sell:this.state["stock_sell_"+this.state.stockShowing],data_buy:this.state["stock_buy_"+this.state.stockShowing],data_price:this.state["stock_"+this.state.stockShowing]})):c.a.createElement(b.a,{xs:"12",md:"9",style:{height:"80vh",display:"flex",alignItems:"center"}},c.a.createElement("h4",{style:{width:"100%"}},"Select a stock...")))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){e.exports=a(111)},62:function(e,t,a){},63:function(e,t,a){},91:function(e,t){},98:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.4e32e4ba.chunk.js.map